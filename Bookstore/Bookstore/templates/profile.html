{% extends 'layout.html' %}
{% set active_page = 'profile' %}

{% block title %}{{ title }}{% endblock title %}

{% block body %}
<!-- USER PROFILE SECTION -->
<div id="userProfile">
    <div class="user-profile text-center modal-content modal-sm modal-dialog col-10 offset-1">
        <div class="modal-header mt-1 border-0 justify-content-center">
            <a href="" data-toggle="modal" data-target="#uploadPic">
                <img src="/static/image_library/uploads/{{user.avatar}}" alt="avatar"
                    class="avatar rounded-circle img-responsive">
                <i class="fas fa-plus d-none">
                    <p class="font-italic pt-2">Upload a picture</p>
                </i>
            </a>
        </div>
        <div class="border-bottom pb-2">
            <h5 class="m-0">{{ user.username }}'s Profile</h5>
            <a class=" edit-title text-muted font-italic" href="" data-toggle="modal" data-target="#updateName"> Edit
                your
                name</a>
        </div>
        <div class="profile-section py-3">
            <h6 class="title-profile m-0 font-italic text-dark"> {{user.email}} </h6>
            <a class="edit-title text-muted font-italic" href="" data-toggle="modal"
                data-target="#updateEmail"><span>Edit</span></a>
        </div>
        <div class="profile-section py-3 ">
            <h6 class="title-profile m-0 font-italic text-dark"> Reset password </h6>
            <a class="edit-title text-muted font-italic" href="" data-toggle="modal"
                data-target="#updatePassword"><span>Edit</span></a>
        </div>
        <div class="profile-section py-3 border-0">
            <a class="edit-title text-muted font-italic" href="" data-toggle="modal"
                data-target="#deleteAccount"><span>Delete your account</span></a>
        </div>
    </div>

</div> <!--  END USER PROFILE SECTION -->
<!-- MODAL UPDATE FORM -->
<div class="modal fade" id="uploadPic" tabindex="-1" role="dialog" aria-labelledby="updateLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content text-center">
            <!-- UPLOAD PICTURE FORM -->
            {% include 'includes/upload.html'%}
        </div>
    </div>
</div>
<div class="modal fade" id="updateName" tabindex="-1" role="dialog" aria-labelledby="updateLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content text-center">
            <!-- UPDATE USERNAME FORM -->
            {% include 'includes/updatename.html'%}
        </div>
    </div>
</div>
<div class="modal fade" id="updateEmail" tabindex="-1" role="dialog" aria-labelledby="updateLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content text-center">
            <!-- UPDATE EMAIL FORM -->
            {% include 'includes/updateemail.html'%}
        </div>
    </div>
</div>
<div class="modal fade" id="updatePassword" tabindex="-1" role="dialog" aria-labelledby="updateLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content text-center">
            <!-- UPDATE PASSWORD FORM -->
            {% include 'includes/updatepw.html' %}
        </div>
    </div>
</div>
<!-- DELETE ACCOUNT -->
<div class="modal fade" id="deleteAccount" tabindex="-1" role="dialog" aria-labelledby="updateLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content text-center">
            <div class=" modal-body form-group text-center text-capitalize mb-0">
                <div class="form-group border-top m-0">
                    <h5 class="my-3 ">Are you sure?</h5>
                    <a href="{{url_for('delete_account')}}" class="btn btn-dark btn-small px-2 py-1"><small class="font-italic">Yes, delete my
                            account</small></a>
                    <a type="button" data-dismiss="modal" class="btn btn-light btn-small px-2 py-1">
                        <small class="font-italic">No, return to my profile</small>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock body %}